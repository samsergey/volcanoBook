<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'/>
    <script src='../lib/d3.js'></script>
    <script src='../lib/analysis.js'></script>
    <script src='../lib/functions.js'></script>
    <script src='../lib/tools.js'></script>
    <script src='../lib/graphics.js'></script>
    <link rel="stylesheet" href="../css/bw.css">
    <style>
      .queue {
	  stroke-width:0.25px;
      }
    </style>
  </head>
  <body></body>
  <script>
    
    ////////////////////////////////////////////////////////////
    // Рис 7.1

    const volc = (a, t) => pow((exp(a)-exp(a-a*t))/(exp(a)-1),1/3)

    paricutin = [[0., 0.00],[0.003, 0.18] ,[0.01, 0.45] ,[0.03, 0.62] ,[0.10, 0.75] ,[0.28, 0.92],[1.00, 1.00]]
    tolbachik = [0,0.01,0.1,0.2,0.4,0.7].map(x => [x,volc(7.8,x)-Math.random()*0.01])
    
    function fig1()
    {
	return new Graphics(createSVG('fig1'),{})
	    .xRange([0,1.001])
	    .yRange([0,1.001])
	    .plot(x => pow(x,1/3))
	    .plot(x => volc(6,x),{'class': 'dashed'})
	    .plot(x => volc(7.8,x),{'class': 'dotted'})
	    .listPlot(paricutin)
	    .listPlot(tolbachik,{'points':false, 'marker':marker[0]})
	    .axes({xLabel:"время",
		   xTickValues:[0,1/8,1/2,1],
		   xTickFormat:fmt.fixed3,
		   yTickFormat:fmt.fixed1,
		   yTickValues:[0,1/2,4/5,1],
		   yLabel:"высота конуса"})
	    .gridLines({x:[1/8,1/2,1], y:[1/2,4/5,1]})
    }
    fig1()

     

  </script>
</html>
